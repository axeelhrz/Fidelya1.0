<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- ULTRA CRITICAL RESOURCE HINTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://starflex.web.app">
    
    <!-- CRITICAL FONT PRELOAD - Reduce CLS -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700;800;900&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700;800;900&display=swap"></noscript>
    
    <!-- SEO Optimizado -->
    <title data-translate="page-title">StarFlex - Automatiza tus Bloques de Amazon Flex | Prueba Gratis</title>
    <meta name="description" data-translate="page-description" content="Starflex revoluciona Amazon Flex. Automatización inteligente de bloques, optimización de horarios y máximas ganancias. Únete a +15,000 conductores exitosos.">
    <meta name="keywords" content="Amazon Flex, automatización bloques, ganancias delivery, optimizar horarios, conductor profesional, Starflex">
    <meta name="robots" content="index, follow, max-image-preview:large">
    <link rel="canonical" href="https://starflexapp.com">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Starflex - La Revolución de Amazon Flex">
    <meta property="og:description" content="Automatización inteligente que multiplica tus ganancias.">
    <meta property="og:image" content="https://starflexapp.com/assets/og-starflex-hero.jpg">
    <meta property="og:url" content="https://starflexapp.com">
    <meta property="og:type" content="website">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="./assets/icon.png" sizes="32x32">
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#FF2D55">
    
    <!-- CRITICAL CSS INLINE -->
    <link rel="stylesheet" href="css/critical-optimized.css">
    
    <!-- NON-CRITICAL CSS ASYNC -->
    <link rel="preload" href="css/style.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="css/style.css"></noscript>
    
    <!-- FONT DISPLAY OPTIMIZATION -->
    <style>
        /* Prevent CLS from font loading */
        .hero__title, .nav__link, .btn {
            font-display: swap;
        }
        
        /* Reserve space for video to prevent CLS */
        .hero__phone-video {
            width: 320px;
            height: 640px;
            background-color: #000;
            display: block;
        }
        
        .nav__logo {
            width: 55px;
            height: 55px;
            background-color: #1a1a1a;
            display: block;
        }
        
        .download-btn__text {
            width: 180px;
            height: 60px;
            background-color: #2a2a2a;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            color: white;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .download-btn__text:hover {
            background-color: #3a3a3a;
            transform: translateY(-2px);
        }
        
        /* Prevent layout shift from language switcher */
        .language-switcher {
            min-width: 120px;
            min-height: 48px;
        }
        
        /* Prevent layout shift from hero content */
        .hero__content {
            min-height: 600px;
        }
        
        /* Prevent layout shift from navigation */
        .nav {
            min-height: 80px;
        }
        
        @media (max-width: 768px) {
            .nav {
                min-height: 70px;
            }
            .hero__content {
                min-height: 500px;
            }
        }
    </style>
</head>

<body>
    <!-- Language Switcher with fixed dimensions -->
    <div class="language-switcher" id="language-switcher" style="min-width: 120px; min-height: 48px;">
        <button class="language-switcher__btn" id="language-switcher-btn" aria-label="Cambiar idioma">
            <span class="language-switcher__text" id="language-switcher-text">ES</span>
        </button>
        <div class="language-switcher__dropdown" id="language-switcher-dropdown">
            <button class="language-switcher__option" data-lang="es">🇪🇸 Español</button>
            <button class="language-switcher__option" data-lang="en">🇺🇸 English</button>
        </div>
    </div>
    
    <!-- Header with fixed height -->
    <header class="header" id="header" style="min-height: 80px;">
        <nav class="nav">
            <div class="nav__brand">
                <div class="nav__logo" tabindex="0" role="button" aria-label="StarFlex - Ir al inicio" style="width: 55px; height: 55px; background-color: #1a1a1a; border-radius: 12px;"></div>
            </div>
            
            <div class="nav__menu" id="nav-menu">
                <ul class="nav__list">
                    <li><a href="#home" class="nav__link">Inicio</a></li>
                    <li><a href="#features" class="nav__link">Características</a></li>
                    <li><a href="#videos" class="nav__link">Videos</a></li>
                    <li><a href="#faq" class="nav__link">FAQ</a></li>
                    <li><a href="#contact" class="nav__link">Contacto</a></li>
                </ul>
            </div>
            
            <div class="nav__cta">
                <a href="https://starflex.web.app/" class="btn btn--primary" rel="noopener">Comienza tu prueba gratuita</a>
            </div>
            
            <button class="nav__toggle" id="nav-toggle" aria-label="Abrir menú">
                <span class="nav__toggle-line"></span>
                <span class="nav__toggle-line"></span>
                <span class="nav__toggle-line"></span>
            </button>
        </nav>
    </header>

    <!-- Hero Section with reserved space -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero__container">
                <div class="hero__content" style="min-height: 600px;">
                    <div class="hero__badge">Next-Gen Amazon Flex Revolution</div>
                    
                    <h1 class="hero__title">
                        <span class="hero__title--main">DOMINA LOS</span>
                        <span class="hero__title--highlight">BLOQUES DE</span>
                        <span class="hero__title--amazon">AMAZON FLEX</span>
                    </h1>
                    
                    <p class="hero__subtitle">
                        Automatización inteligente de última generación que multiplica tus ganancias. 
                        La plataforma más avanzada para conductores profesionales del futuro.
                    </p>
                    
                    <div class="hero__cta-group">
                        <a href="https://starflex.web.app/" class="btn btn--primary btn--cta" rel="noopener">
                            <span>PRUEBA GRATUITA</span>
                            <small>3 DÍAS GRATIS</small>
                        </a>
                        
                        <div class="hero__download">
                            <a href="https://play.google.com/store/apps/details?id=com.minoka.starflex&pli=1" class="download-btn" rel="noopener">
                                <span class="download-btn__text">Descargar en Google Play</span>
                            </a>
                            
                            <a href="https://starflex.web.app/" class="download-btn" rel="noopener">
                                <span class="download-btn__text">Descargar en App Store</span>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="hero__media">
                    <div class="hero__phone-container">
                        <div class="hero__phone">
                            <div class="hero__phone-screen">
                                <div class="hero__phone-content">
                                    <!-- Reserved space for video to prevent CLS -->
                                    <video class="hero__phone-video" 
                                           muted 
                                           autoplay 
                                           loop 
                                           playsinline 
                                           preload="metadata"
                                           width="320" 
                                           height="640"
                                           style="width: 320px; height: 640px; background-color: #000; display: block;">
                                        <source src="./assets/StarFlex.mp4" type="video/mp4">
                                        Tu navegador no soporta videos HTML5.
                                    </video>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- JavaScript optimizado -->
    <script src="js/script-performance-optimized.js" defer></script>
    
    <!-- Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => console.log('SW registered'))
                    .catch(error => console.log('SW registration failed'));
            });
        }
    </script>
</body>
</html>