<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- ULTRA CRITICAL RESOURCE HINTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://starflex.web.app">
    
    <!-- CRITICAL RESOURCE PRELOADS -->
    <link rel="preload" href="./assets/phones/Hero.avif" as="image" type="image/avif" fetchpriority="high">
    <link rel="preload" href="./assets/phones/Hero.webp" as="image" type="image/webp" fetchpriority="high">
    <link rel="preload" href="./assets/phones/Hero.jpg" as="image" type="image/jpeg" fetchpriority="high">
    <link rel="preload" href="./assets/logo.avif" as="image" type="image/avif" fetchpriority="high">
    <link rel="preload" href="css/critical.css" as="style" fetchpriority="high">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700;800;900&display=swap" as="style">
    
    <!-- SEO Optimizado -->
    <title data-translate="page-title">StarFlex - Automatiza tus Bloques de Amazon Flex | Prueba Gratis</title>
    <meta name="description" data-translate="page-description" content="Starflex revoluciona Amazon Flex. Automatización inteligente de bloques, optimización de horarios y máximas ganancias. Únete a +15,000 conductores exitosos.">
    <meta name="keywords" content="Amazon Flex, automatización bloques, ganancias delivery, optimizar horarios, conductor profesional, Starflex">
    <meta name="robots" content="index, follow, max-image-preview:large">
    <link rel="canonical" href="https://starflexapp.com">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Starflex - La Revolución de Amazon Flex">
    <meta property="og:description" content="Automatización inteligente que multiplica tus ganancias.">
    <meta property="og:image" content="https://starflexapp.com/assets/og-starflex-hero.jpg">
    <meta property="og:url" content="https://starflexapp.com">
    <meta property="og:type" content="website">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="./assets/icon.png" sizes="32x32">
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#FF2D55">
    
    <!-- CRITICAL CSS INLINE -->
    <link rel="stylesheet" href="css/critical.css">
    
    <!-- NON-CRITICAL CSS ASYNC -->
    <link rel="preload" href="css/style.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="css/style.css"></noscript>
    
    <!-- FONTS OPTIMIZED -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- FORMAT DETECTION SCRIPT ULTRA OPTIMIZED -->
    <script>
        (function() {
            const formats = [
                { type: 'avif', data: 'data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgABogQEAwgMg8f8D///8WfhwB8+ErK42A=' },
                { type: 'webp', data: 'data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA' }
            ];
            
            Promise.all(formats.map(f => {
                return new Promise(resolve => {
                    const img = new Image();
                    img.onload = img.onerror = () => resolve({ type: f.type, supported: img.width > 0 && img.height > 0 });
                    img.src = f.data;
                });
            })).then(results => {
                const html = document.documentElement;
                results.forEach(({ type, supported }) => {
                    html.classList.add(supported ? type : `no-${type}`);
                });
            });
        })();
    </script>
</head>

<body>
    <!-- Language Switcher -->
    <div class="language-switcher" id="language-switcher">
        <button class="language-switcher__btn" id="language-switcher-btn" aria-label="Cambiar idioma">
            <span class="language-switcher__text" id="language-switcher-text">ES</span>
        </button>
        <div class="language-switcher__dropdown" id="language-switcher-dropdown">
            <button class="language-switcher__option" data-lang="es">🇪🇸 Español</button>
            <button class="language-switcher__option" data-lang="en">🇺🇸 English</button>
        </div>
    </div>
    
    <!-- Header -->
    <header class="header" id="header">
        <nav class="nav">
            <div class="nav__brand">
                <div class="nav__logo" tabindex="0" role="button" aria-label="StarFlex - Ir al inicio"></div>
            </div>
            
            <div class="nav__menu" id="nav-menu">
                <ul class="nav__list">
                    <li><a href="#home" class="nav__link">Inicio</a></li>
                    <li><a href="#features" class="nav__link">Características</a></li>
                    <li><a href="#videos" class="nav__link">Videos</a></li>
                    <li><a href="#faq" class="nav__link">FAQ</a></li>
                    <li><a href="#contact" class="nav__link">Contacto</a></li>
                </ul>
            </div>
            
            <div class="nav__cta">
                <a href="https://starflex.web.app/" class="btn btn--primary" rel="noopener">Comienza tu prueba gratuita</a>
            </div>
            
            <button class="nav__toggle" id="nav-toggle" aria-label="Abrir menú">
                <span class="nav__toggle-line"></span>
                <span class="nav__toggle-line"></span>
                <span class="nav__toggle-line"></span>
            </button>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero__container">
                <div class="hero__content">
                    <div class="hero__badge">Next-Gen Amazon Flex Revolution</div>
                    
                    <h1 class="hero__title">
                        <span class="hero__title--main">DOMINA LOS</span>
                        <span class="hero__title--highlight">BLOQUES DE</span>
                        <span class="hero__title--amazon">AMAZON FLEX</span>
                    </h1>
                    
                    <p class="hero__subtitle">
                        Automatización inteligente de última generación que multiplica tus ganancias. 
                        La plataforma más avanzada para conductores profesionales del futuro.
                    </p>
                    
                    <div class="hero__cta-group">
                        <a href="https://starflex.web.app/" class="btn btn--primary btn--cta" rel="noopener">
                            <span>PRUEBA GRATUITA</span>
                            <small>3 DÍAS GRATIS</small>
                        </a>
                        
                        <div class="hero__download">
                            <a href="https://play.google.com/store/apps/details?id=com.minoka.starflex&pli=1" class="download-btn" rel="noopener">
                                <img class="download-btn__image" alt="Descargar en Google Play" loading="lazy" width="180" height="60" src="./assets/GooglePlay.jpg">
                            </a>
                            
                            <a href="https://starflex.web.app/" class="download-btn" rel="noopener">
                                <img class="download-btn__image" alt="Descargar en App Store" loading="lazy" width="180" height="60" src="./assets/AppleStore.jpg">
                            </a>
                        </div>
                    </div>
                </div>

                <div class="hero__media">
                    <div class="hero__phone-container">
                        <div class="hero__phone">
                            <div class="hero__phone-screen">
                                <div class="hero__phone-content">
                                    <picture>
                                        <source srcset="./assets/phones/Hero.avif" type="image/avif">
                                        <source srcset="./assets/phones/Hero.webp" type="image/webp">
                                        <img class="hero__phone-image" 
                                             src="./assets/phones/Hero.jpg" 
                                             alt="Interfaz principal de StarFlex" 
                                             loading="eager" 
                                             fetchpriority="high"
                                             width="320" 
                                             height="640">
                                    </picture>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Resto del contenido se carga de forma lazy -->
    <div id="lazy-content" style="display: none;">
        <!-- Features, Videos, FAQ, Contact sections aquí -->
    </div>

    <!-- JavaScript optimizado -->
    <script>
        // Cargar contenido no crítico después del LCP
        window.addEventListener('load', () => {
            const lazyContent = document.getElementById('lazy-content');
            if (lazyContent) {
                lazyContent.style.display = 'block';
            }
        });
    </script>
    
    <script src="js/script-optimized.js" defer></script>
    
    <!-- Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => console.log('SW registered'))
                    .catch(error => console.log('SW registration failed'));
            });
        }
    </script>
</body>
</html>