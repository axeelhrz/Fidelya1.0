/* ===== NAVBAR MÓVIL OPTIMIZADO ===== */
@media screen and (width <= 1023px) {

/* ===== NAVBAR PRINCIPAL - LIMPIO ===== */
.nav {
background: transparent !important;
backdrop-filter: none !important;
box-shadow: none !important;
}

.header {
background: transparent !important;
backdrop-filter: none !important;
box-shadow: none !important;
}

/* ===== BOTÓN HAMBURGUESA MODERNO ===== */
.nav__toggle {
position: relative !important;
z-index: 1001 !important;
display: flex !important;
width: var(--mobile-touch-target) !important;
height: var(--mobile-touch-target) !important;
overflow: hidden !important;
cursor: pointer !important;
background: linear-gradient(135deg,
rgb(21 25 34 / 95%) 0%,
rgb(30 35 48 / 95%) 100%
) !important;
backdrop-filter: blur(20px) !important;
border: 1px solid var(--mobile-neon-border) !important;
border-radius: 12px !important;
box-shadow:
0 4px 15px rgb(0 0 0 / 30%),
0 0 10px var(--mobile-neon-glow-soft) !important;
transition: all 0.3s ease !important;
}

.nav__toggle::before {
position: absolute !important;
top: 0 !important;
left: -100% !important;
display: block !important;
width: 100% !important;
height: 100% !important;
content: '' !important;
background: linear-gradient(90deg,
transparent 0%,
rgb(255 45 85 / 20%) 50%,
transparent 100%
) !important;
opacity: 1 !important;
transition: left 1.2s ease !important;
}

.nav__toggle:hover,
.nav__toggle:active {
border-color: var(--mobile-neon-red) !important;
box-shadow:
0 6px 20px rgb(0 0 0 / 40%),
0 0 15px var(--mobile-neon-glow) !important;
transform: scale(1.05) !important;
}

.nav__toggle:hover::before,
.nav__toggle:active::before {
left: 100% !important;
}

.nav__toggle.active {
background: linear-gradient(135deg,
rgb(21 25 34 / 98%) 0%,
rgb(30 35 48 / 98%) 100%
) !important;
border-color: var(--mobile-neon-red-bright) !important;
box-shadow:
0 8px 25px rgb(0 0 0 / 50%),
0 0 20px var(--mobile-neon-glow) !important;
}

/* Líneas del hamburguesa */
.nav__toggle-line {
width: 20px !important;
height: 2px !important;
margin: 3px 0 !important;
background: linear-gradient(90deg, #fff 0%, rgb(255 45 85 / 80%) 100%) !important;
border-radius: 1px !important;
box-shadow: 0 0 8px rgb(255 255 255 / 30%) !important;
transition: all 0.3s ease !important;
}

.nav__toggle.active .nav__toggle-line:nth-child(1) {
background: linear-gradient(135deg, var(--mobile-neon-red) 0%, var(--mobile-neon-red-bright) 100%) !important;
box-shadow: 0 0 8px var(--mobile-neon-glow) !important;
transform: rotate(45deg) translate(6px, 6px) !important;
}

.nav__toggle.active .nav__toggle-line:nth-child(2) {
opacity: 0 !important;
transform: scale(0) !important;
}

.nav__toggle.active .nav__toggle-line:nth-child(3) {
background: linear-gradient(135deg, var(--mobile-neon-red) 0%, var(--mobile-neon-red-bright) 100%) !important;
box-shadow: 0 0 8px var(--mobile-neon-glow) !important;
transform: rotate(-45deg) translate(6px, -6px) !important;
}

/* ===== DRAWER PRINCIPAL ===== */
.nav__menu {
position: fixed !important;
top: 0 !important;
left: -100% !important;
z-index: 1000 !important;
box-sizing: border-box !important;
display: flex !important;
flex-direction: column !important;
gap: var(--drawer-compact-gap) !important;
align-items: stretch !important;
justify-content: flex-start !important;
width: var(--drawer-width-compact) !important;
height: 100vh !important;
height: 100dvh !important;
padding: var(--drawer-compact-padding) !important;
padding-top: max(calc(env(safe-area-inset-top, 15px) + var(--drawer-compact-padding)), calc(var(--drawer-compact-padding) + 10px)) !important;
padding-bottom: max(calc(env(safe-area-inset-bottom, 15px) + var(--drawer-compact-padding)), var(--drawer-compact-padding)) !important;
overflow: hidden !important;
background: linear-gradient(135deg,
rgb(10 13 20 / 98%) 0%,
rgb(21 25 34 / 96%) 30%,
rgb(30 35 48 / 94%) 70%,
rgb(21 25 34 / 96%) 100%
) !important;
backdrop-filter: blur(25px) !important;
border-right: 2px solid rgb(255 45 85 / 30%) !important;
box-shadow:
0 0 50px rgb(0 0 0 / 80%),
inset 2px 0 0 rgb(255 45 85 / 20%) !important;
transition: left 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

.nav__menu.active {
left: 0 !important;
}

/* Overlay */
.nav__menu::before {
position: fixed !important;
top: 0 !important;
left: 0 !important;
z-index: -1 !important;
display: block !important;
width: 100vw !important;
height: 100vh !important;
height: 100dvh !important;
pointer-events: none !important;
visibility: hidden !important;
content: '' !important;
background: rgb(0 0 0 / 70%) !important;
backdrop-filter: blur(6px) !important;
opacity: 0 !important;
transition: all 0.25s ease !important;
}

.nav__menu.active::before {
pointer-events: auto !important;
visibility: visible !important;
opacity: 1 !important;
}

/* ===== BOTÓN DE CERRAR ===== */
.nav__close {
position: absolute !important;
top: var(--drawer-compact-padding) !important;
right: var(--drawer-compact-padding) !important;
z-index: 1001 !important;
display: flex !important;
align-items: center !important;
justify-content: center !important;
width: 40px !important;
height: 40px !important;
cursor: pointer !important;
background: linear-gradient(135deg,
rgb(255 45 85 / 15%) 0%,
rgb(21 25 34 / 95%) 100%
) !important;
backdrop-filter: blur(20px) !important;
border: 1px solid var(--mobile-neon-border) !important;
border-radius: 50% !important;
box-shadow:
0 4px 15px rgb(0 0 0 / 30%),
0 0 15px rgb(255 45 85 / 20%) !important;
transition: all 0.3s ease !important;
}

.nav__close:hover,
.nav__close:active {
background: linear-gradient(135deg,
rgb(255 45 85 / 30%) 0%,
rgb(21 25 34 / 98%) 100%
) !important;
border-color: var(--mobile-neon-red) !important;
box-shadow:
0 6px 20px rgb(0 0 0 / 40%),
0 0 25px rgb(255 45 85 / 40%) !important;
transform: scale(1.1) rotate(90deg) !important;
}

.nav__close svg {
width: 18px !important;
height: 18px !important;
color: #fff !important;
filter: drop-shadow(0 0 5px rgb(255 255 255 / 30%)) !important;
transition: all 0.3s ease !important;
}

.nav__close:hover svg,
.nav__close:active svg {
color: var(--starflex-red) !important;
filter: drop-shadow(0 0 8px rgb(255 45 85 / 60%)) !important;
}

/* ===== OCULTAR LOGO CUANDO DRAWER ESTÁ ACTIVO ===== */
.nav__brand {
position: relative !important;
z-index: calc(var(--navbar-z-index) + 1) !important;
transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

.nav__logo {
transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
transform: translateZ(0) !important;
backface-visibility: hidden !important;
}

body.no-scroll .nav__brand,
.nav-menu-open .nav__brand {
pointer-events: none !important;
visibility: hidden !important;
opacity: 0 !important;
transition: all 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
transform: scale(0.8) translateY(-10px) !important;
}

body.no-scroll .nav__logo,
.nav-menu-open .nav__logo {
filter: blur(2px) !important;
opacity: 0 !important;
transform: scale(0.8) translateY(-10px) translateZ(0) !important;
}

/* ===== RESPONSIVE ===== */
@media screen and (width <= 360px) {
:root {
--drawer-width-compact: min(280px, 85vw);
}
}

@media screen and (height <= 600px) {
:root {
--drawer-compact-padding: 0.875rem;
--drawer-compact-gap: 0.75rem;
--drawer-element-height: 36px;
}
}

@media screen and (height <= 500px) {
:root {
--drawer-compact-padding: 0.75rem;
--drawer-compact-gap: 0.625rem;
--drawer-element-height: 32px;
}
}

/* ===== OPTIMIZACIONES DE RENDIMIENTO ===== */
.nav__toggle,
.nav__close,
.nav__menu {
transform: translateZ(0) !important;
will-change: transform !important;
backface-visibility: hidden !important;
contain: layout style paint !important;
}

/* ===== ACCESIBILIDAD ===== */
.nav__toggle:focus,
.nav__close:focus {
outline: 2px solid var(--starflex-red) !important;
outline-offset: 2px !important;
box-shadow:
0 0 0 4px rgb(255 45 85 / 30%),
0 4px 15px rgb(0 0 0 / 30%) !important;
}

/* ===== TOUCH OPTIMIZATIONS ===== */
.nav__toggle,
.nav__close {
touch-action: manipulation !important;
-webkit-tap-highlight-color: transparent !important;
-webkit-touch-callout: none !important;
user-select: none !important;
}

/* ===== PREVENIR SCROLL DEL BODY ===== */
body.no-scroll {
position: fixed !important;
width: 100% !important;
height: 100% !important;
overflow: hidden !important;
}

}
